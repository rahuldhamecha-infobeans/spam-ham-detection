{% extends 'layouts/admin/dashboard/base.html' %} {% block page_title %} Smart
Interview Assessment {% endblock %} {% block page_body_title %} Smart Interview
Assessment {% endblock %} {% block body_block %}
<div class="row">
  <div class="col-xl-12">
    <div class="card">
      <div class="card-body">
        <form id="upload-form" class="dropzone" enctype="multipart/form-data" method="post" action="{{ url_for('interview_analyzer.interview_video_upload') }}">
          <div>
            <!-- this is were the previews should be shown. -->
            <div class="previews"></div>
<!--            <div class="dz-default dz-message">-->
<!--              <span class="dz-button11" >-->
<!--                Upload Files for Interview Assessment-->
<!--              </span>-->
<!--            </div>-->
            <div class="d-flex justify-content-center align-items-center gap-2">
             <input
                type="text"
                id="candidate_name"
                name="candidate_name"
                class="form-control"
                placeholder="Enter Interviewer Name"
                required
            />

              <input
                class="d-flex justify-content-center align-items-center gap-2 "
                type="file"
                name="file"
                id="file"
                required
                accept="video/*"
                style="width: 100%;border:1px solid #d9dee3"
              />
              <button
                class="btn btn-primary upload_video_btn"
                type="submit"
              >
                Submit
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>

    <div class="card mt-4">
      <div class="card-body">
        <h4>Interview Sessions</h4>
        <div class="m-4">
          <div class="table_div"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="test" id="test_rock"></div>
{% endblock %} {% block body_scripts %}
<script>
  function reload_candidate_list() {
    $.ajax({
      type: "GET",
      url: '{{ url_for('interview_analyzer.fetch_candidate_list') }}',
      dataType: "html",
      success: function (response) {
        $(".table_div").html(response);
      },
    });
  }

  $(document).ready(function () {
    reload_candidate_list();
  });

  $(document).on('click','.upload_video_btn',function(){
     var name = document.getElementById('candidate_name').value;
      var fileInput = document.getElementById('file');
      var file = fileInput.files[0]; // Get the first selected file (if any)

      if (name !== '' && file) {
        $('.loader_wrapper').removeClass('d-none');
      }
  })

  setInterval(function() {
    reload_candidate_list();
  }, 600000);

</script>
{% endblock %} {% block head_styles %}
<link
  rel="stylesheet"
  href="{{ url_for('static',filename='admin/assets/css/dropzone.css') }}"
  type="text/css"
/>
<style>
  .dropzone {
    min-height: 250px;
    border: 3px dashed #373742;
    border-radius: 5px;
    padding: 20px 20px;

    display: flex;
    justify-content: center;
    align-items: center;
  }

  .dropzone .dz-message .dz-button {
    color: #373742;
    font-size: 20px;
  }

  .table thead th {
    background-color: #373450;
    color: #ffffff !important;
  }
</style>
<div class="loader_wrapper d-none">
  <div class="loader">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      style="margin: auto; display: block"
      width="200px"
      height="200px"
      viewBox="0 0 100 100"
      preserveAspectRatio="xMidYMid"
    >
      <circle cx="30" cy="50" fill="#373450" r="20">
        <animate
          attributeName="cx"
          repeatCount="indefinite"
          dur="1s"
          keyTimes="0;0.5;1"
          values="30;70;30"
          begin="-0.5s"
        ></animate>
      </circle>
      <circle cx="70" cy="50" fill="#ea1b3d" r="20">
        <animate
          attributeName="cx"
          repeatCount="indefinite"
          dur="1s"
          keyTimes="0;0.5;1"
          values="30;70;30"
          begin="0s"
        ></animate>
      </circle>
      <circle cx="30" cy="50" fill="#373450" r="20">
        <animate
          attributeName="cx"
          repeatCount="indefinite"
          dur="1s"
          keyTimes="0;0.5;1"
          values="30;70;30"
          begin="-0.5s"
        ></animate>
        <animate
          attributeName="fill-opacity"
          values="0;0;1;1"
          calcMode="discrete"
          keyTimes="0;0.499;0.5;1"
          dur="1s"
          repeatCount="indefinite"
        ></animate>
      </circle>
    </svg>
  </div>
</div>

{% endblock %}
